# [主页](../../README.md)/[OPD](readme.md)/lab3

## Контрольные вопросы

1. Организация одномерных массивов данных в памяти. Организация и обработка массивов с числом измерений, больше чем одно.  在内存中组织一维数据数组。组织和处理多维数组。   
Одномерные массивы хранятся в памяти смежно, каждый элемент занимает определенный объем памяти.Многомерные массивы могут храниться в порядке следования строк или столбцов; главное - знать, в каком порядке они хранятся, чтобы к ним можно было правильно обращаться.  
一维数组在内存中是连续存储的，每个元素占据一定的内存空间。多维数组可以按行优先或列优先顺序存储，关键在于知道它们的存储顺序，以便正确访问。

2. Сравнение значений в БЭВМ. Команды условных и безусловного переходов. 在计算机中比较值。条件和无条件跳转指令。  
Значение сравнения устанавливает флаги в регистре кода условия, такие как флаг нуля, флаг округления и так далее.Инструкции условного перехода решают, выполнять ли переход, на основе этих флагов, в то время как инструкции безусловного перехода выполняют переход всегда.  
比较值会设置条件码寄存器中的标志，如零标志、进位标志等。条件跳转指令根据这些标志决定是否跳转，而无条件跳转指令总是跳转。  

3. Организация циклических вычислений. Команда LOOP. 循环计算的组织。LOOP指令。  
Циклы со счетчиком в БЭВМ организуются при помощи команды "Декремент и пропуск" (LOOP). Данная команда уменьшает заданную ячейку памяти, определяющую число повторений, и проверяет, что в ячейке еще находится положительное число. Если оно действительно положительное, то выполняется следующая после LOOP команда, если число отрицательно или равно нулю, то к счетчику команд добавляется единица, и следующей будет выполнена команда через одну после LOOP.   
在大型计算机中，使用“减量和跳过”指令（LOOP）来组织带计数器的循环。该指令减少指定的内存单元，该内存单元确定重复次数，并检查内存单元中是否仍有正数。如果确实为正数，则执行LOOP之后的下一条指令；如果数为负或为零，则在指令计数器中加1，并且下一条将执行的是在LOOP之后的第二条指令。

4. Режимы адресации БЭВМ. 计算机的寻址模式。
- прямая абсолютная адресация
- 直接绝对寻址
- относительная адресация
- 相对寻址
  -  Прямая относительная
  -  直接相对寻址
  -  Косвенная относительная
  -  间接相对寻址
  -  Косвенная автоинкрементная
  -  间接自动增量寻址
  -  Косвенная автодекрементная
  -  间接自动减量寻址
  -  Со смещением относительно SP
  -  相对 SP 的偏移寻址
  -  С непосредственной (прямой) загрузкой
  -  直接加载操作数到累加器

5. Описание адресных команд и команд переходов с различными режимами адресации: наименование, назначение, тип команды и вид адресации. Количество и название машинных циклов, потактовое выполнение команд. 描述具有不同寻址模式的地址指令和跳转指令：名称、用途、指令类型和寻址方式。机器周期的数量和名称，逐周期执行指令。  
Цикл команды включает несколько машинных циклов: выборки команды, выборки адреса, выборки операнда, исполнения и прерывания.  
指令循环包括几个机器循环：指令提取、地址提取、操作数提取、执行和中断
- Прямая адресация
  - Название: Прямая
  - Назначение: Операнд — это адрес данных. 
  - Тип команды: Адресация
  - Вид адресации: Прямая
- Косвенная адресация
-  Регистровая адресация
  - Название: Регистровая
  - Назначение: Операнд — это регистр, содержащий данные или их адрес.
  - Тип команды: Адресация
  - Вид адресации: Регистровая
- команда перехода：跳转命令
  - `JUMP`
    - Назначение: безусловный переход 无条件跳转
    - Тип: контролируемая передача 控制转移
    - Режимы адресации: прямая, относительная, косвенная, косвенная регистровая 直接、相对、间接、寄存器间接
  - `CALL`
    - Назначение: Вызов подпрограммы 调用子程序
    - Тип: контролируемая передача 控制转移
    - Режимы адресации: прямая, косвенная, относительная 直接、间接、相对
  - `RET`
    - Назначение: Возврат из подпрограммы 从子程序返回
    - Тип: контролируемая передача 控制转移
    - Метод адресации: неявная стековая адресация 隐式栈寻址

6. Количество обращений к памяти команд БЭВМ с различными режимами адресации. 具有不同寻址模式的计算机指令对内存的访问次数。
На этапе реализации, Немедленная адресация не требует дополнительных обращений к памяти, прямая адресация требует одного обращения к памяти, косвенная адресация требует двух обращений к памяти, а регистровая адресация не требует обращений к памяти.  
在执行阶段中，立即寻址不需要额外的内存访问，直接寻址需要一次内存访问，间接寻址需要两次内存访问，寄存器寻址不需要内存访问。

7. Где находятся аргументы программы? Где находится результат? Как они представлены? 程序的参数在哪里？结果在哪里？它们是如何表示的？
Параметры обычно передаются через регистры или стек, а результаты обычно хранятся в регистрах или памяти.Их представление зависит от типа данных, например, целые числа представляются в двоичной форме, числа с плавающей точкой - в стандарте IEEE  
参数通常通过寄存器或堆栈传递，结果通常存储在寄存器或内存中。它们的表示取决于数据类型，如整数以二进制形式表示，浮点数以IEEE标准表示。

8. Какое максимальное количество элементов данных может поддерживать ваша программа? 程序支持的最大数据元素数量
Это зависит от структур данных, используемых программой, и доступной памяти.Если используется массив, то максимальный размер ограничен памятью; если используется связанный список, то он может быть ограничен количеством указателей.  
这取决于程序使用的数据结构和可用内存。如果使用数组，最大大小受内存限制；如果使用链表，则可能受指针数量限制。  

### 程序描述
Программа считает количество ненулевых элементов массива 

`jump` - это команда безусловного перехода 无条件跳转命令
Команды ветвления = = команды условного перехода 分支命令 

![](image.png)
符号扩展:
- 输入CR低八位数据 例如F6 -> 11110110
- 输出CR十六位数据 例如F6 -> FFF6 -> 11111111 11110110 直接扩展

微命令操作过程：
AAF6 загрузка m -> ac косвенная автоинкрементная (относительная) F6 – это смещение (A=1010)
Instruction fetch(IF)
IP - > BR, AR
BR + 1 - > IP; MEM(AR) - > DR
DR -> CR

Address fetch(AF)
BR + IP - > AR
MEM(AR) - > DR
DR + 1 - > DR
DR - > MEM(AR)
~0 + DR - > DR

Operrand fetch(OF)
DR -> AR
MEM(AR) - > DR

Execution(EX)
DR - > AC


EBF7
Instruction fetch(IF)
IP - > BR, AR
BR + 1 - > IP; MEM(AR) - > DR
DR -> CR

Address fetch(AF) 扩展指令 FFF7
BR + IP -> AR
M(AR) -> DR 
~0 + DR -> DR
DR -> M(AR)

Execution(EX)
DR -> AR

不同命令的执行阶段（寄存器关系）：
`AND`: AC & DR - > AC, (NZV)  
`OR`:   
~AC & ~DR - > BR  
~BR - > AC, (NZV)  
`ADD`: AC + DR -> AC, (NZVC)  
`ADC`: AC + DR + 1 -> AC (NZVC)  
`SUB`: AC + ~DR + 1 -> AC, (NZVC)  
`LOOP`:   
~0 + DR -> DR  
~0 + DR -> BR; DR -> MEM(AR)
IP + 1 -> IP
`LP`: DR -> AC, (NZV)  
`JUMP`: DR -> IP
`ST`: DR -> AR; AC -> DR
