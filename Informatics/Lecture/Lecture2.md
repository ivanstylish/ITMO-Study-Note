## [主页](../README.md)/Lecture2
## Лекция №2. Тема: «Сжатие информации и основы помехоустойчивого кодирования.»
## 讲座 #2.主题："信息压缩和抗噪编码基础知识。"

### Проблемы округления чисел в различных СС 不同进制中数字四舍五入的问题

В системах счисления с чётным основанием накапливается ошибка округления:  
四舍五入误差会在偶数基数的数字系统中累积：  
基数为 10：
1, 2, 3, 4,  $\leftarrow$  округление в меньшую сторону  
5, 6, 7, 8, 9,  $\leftarrow$  округление в бóльшую сторону    
0  $\leftarrow$   нет ошибки округления  


В системах счисления с нечётным основанием этой проблемы нет:  
四舍五入误差不会在奇数基数的数字系统中累积：  
基数为 7：
1, 2, 3  $\leftarrow$  округление в меньшую сторону(往大进一)  
4, 5, 6  $\leftarrow$  округление в бóльшую сторону(保留为当前整数)  
0  $\leftarrow$  нет ошибки округления

### Решение проблемы с округлением в СС с чётным основанием 偶数基数 CC 中四舍五入问题的解答  
Случайное округление: используется датчик случайных чисел при принятии решения о том, в бóльшую или меньшую сторону следует округлять.  
随机四舍五入：使用随机数传感器决定向上或向下舍入。  
Банковское округление (к ближайшему чётному): 3,5 ≈ 4, но 2,5 ≈ 2.  
银行四舍五入（取双数）：3.5 ≈ 4，但 2.5 ≈ 2。  
К ближайшему нечётному: 3,5 ≈ 3, но 2,5 ≈ 3. Аналогично: $4,3_(6)$ ≈ $5_(6)$.  
最接近的奇数：3.5 ≈ 3，但 2.5 ≈ 3。同理：$4,3_(6)$ ≈$5_(6)$。  
Чередующееся: направление округления меняется на противоположное при 
каждой операции округления (необходимо «помнить» о предыдущем округлении).  
交替：每次舍入操作的舍入方向相反（必须 "记住 "前一次舍入）。  
![](./pics/lec2p1.png)
![](./pics/lec2p2.png)


### Алфавит и его подмножества 字母表及其子集
Алфавит – конечное множество различных знаков (букв), символов, для которых определена операция конкатенации (присоединения символа к символу или 
цепочке символов).  
字母表是由不同字符（字母）和符号组成的有限集合，其中定义了连接操作（将一个符号连接到另一个符号或符号链）。  
Знак (буква) – любой элемент алфавита (элемент x алфавита X, где x є X).  
符号（字母）是字母表中的任何元素（字母表 X 中的元素 x，其中 x є X）。  
Слово – конечная последовательность знаков (букв) алфавита.  
单词是字母表中字符（字母）的有限序列。  
Словарь (словарный запас) – множество различных слов над алфавитом.  
词汇（vocabulary）--字母表上有许多不同的单词。  


### Кодирование данных
Кодирование (модуляция) данных — процесс преобразования символов алфавита Х в символы алфавита Y.  
数据编码（调制）是将字母 X 的字符转换成字母 Y 的字符的过程。  
Декодирование (демодуляция) — процесс, обратный кодированию.  
解码（解调）与编码相反。  
Символ — наименьшая единица данных, рассматриваемая как единое целое при кодировании/декодировании.  
字符是编码/解码过程中作为单一单元处理的最小数据单位。  
Кодовое слово – последовательность символов из алфавита Y, однозначно обозначающая конкретный символ 
алфавита Х.  
码字--字母表 Y 中的一串字符，唯一表示字母表 X 中的一个特定字符。  
Средняя длина кодового слова – это величина, которая вычисляется как взвешенная вероятностями сумма длин всех кодовых слов.  
平均码字长度是一个数值，是所有码字长度的概率加权和。  
$L=\sum_{i=1}^{n}p_iL_i$  

Если все кодовые слова имеют одинаковую длину, то код называется равномерным (фиксированной длины).  
如果所有码字长度相同，则称为统一码（固定长度）。  
Если встречаются слова разной длины, то – неравномерным (переменной длины).
如果出现不同长度的词，则为非统一码（变长）。  

### Сжатие данных 数据压缩
Сжатие данных — процесс, обеспечивающий уменьшение объёма данных путём сокращения их избыточности.  
数据压缩是一种通过减少数据冗余来缩小数据大小的过程。  
Сжатие данных — частный случай кодирования данных.  
数据压缩是一种特殊地编码数据方式。  
Коэффициент сжатия — отношение размера входного потока к выходному потоку.  
压缩系数是**输入数据流**的大小与**输出数据流**的大小之比。  
Отношение сжатия — отношение размера выходного потока ко входному потоку.  
压缩比是指**输出数据流**的大小与**输入数据流**的大小之比。  

### Типы и методы сжатия данных 数据压缩的类型和方法
Сжатие без потерь (полностью обратимое) — сжатые данные после декодирования  (распаковки) не отличаются от исходных.  
无损压缩（完全可逆）--解码（解压缩）后的压缩数据与原始数据没有区别。  
Сжатие с потерями (частично обратимое) — сжатые данные после декодирования  (распаковки) отличаются от исходных, так как при сжатии часть исходных данных была отброшена для увеличения коэффициента cжатия.  
有损压缩（部分可逆）--解码（解压缩）后的压缩数据与原始数据不同，因为在压缩过程中，为了提高压缩比，丢弃了部分原始数据。  
Статистические методы — кодирование с помощью усреднения вероятности 
появления элементов в закодированной последовательности.  
统计方法--通过平均编码序列中元素出现的概率进行编码。  
Словарные методы — использование статистической модели данных для разбиения 
данных на слова с последующей заменой на их индексы в словаре.  
字典方法--使用统计数据模型将数据划分为单词，然后用字典中的索引替换单词。  

### Помехоустойчивые коды 抗干扰代码
**Помехоустойчивые коды** — коды, позволяющие обнаружить и (или) исправить ошибки в 
кодовых словах, которые возникают при передаче по каналам связи.  
**抗干扰码** - 能检测和（或）纠正在通信信道传输过程中出现的码字错误的编码。  
1. Блочные — фиксированные блоки длиной i символов преобразуются в блоки длиной n символов:  
块 - 长度为 i 个字符的固定块被转换成长度为 n 个字符的块：
    1. Неравномерные — редко используемые символы кодируются большим количеством символов (имеют большую длину).  
    不等长 - 不常使用的字符被编码为大量字符（长度较大）。
    2. Равномерные — длина блока(символа) постоянна:  
    统一 - 块（字符）长度不变：
        1. Неразделимые — коды с постоянной плотностью единиц.
        不可分割 - 单位密度不变的编码。  
        2. Разделимые — можно отделить (выделить) служебные биты r от информационных битов i.  
        可分离 - 可以将服务比特 r 与信息比特 i 分离（隔离）。
2. Непрерывные (свёрточные) — передаваемая информационная последовательность не 
разделяется на блоки.  
连续（卷积）--传输的信息序列不分成块。 

Коэффициент избыточности — отношение числа проверочных разрядов (r) к общему числу 
разрядов (n).  
冗余系数是校验位数（r）与总位数（n）之比。

### Контроль чётности 奇偶校验位
Контрольная сумма — некоторое число, рассчитанное путем применения определенного 
алгоритма к набору данных и используемое для проверки целостности этого набора данных при 
их передаче или хранении.  
校验和是通过对数据集应用某种算法计算出的数字，用于验证数据集在传输或存储过程中的完整性。  
Бит чётности — частный случай контрольной суммы, представляющий из себя 1 контрольный бит, используемый для проверки четности количества единичных битов в двоичном числе.  
奇偶校验位是校验和的一种特例，它是 1 个校验位，用于检查二进制数中 1 位数的奇偶性。（如果1的个数为偶数，则校验位为0；如果1的个数为奇数，则校验位为1）  

### Код Хэмминга 汉明码
Код Хэмминга — блочный равномерный разделимый самокорректирующийся 
код. Исправляет одиночные битовые ошибки, возникшие при передаче или хранении данных.  
汉明码是一种块均匀可分离自校正码。它能纠正数据传输或存储过程中出现的单比特错误。  
Синдром последовательности S — 
набор контрольных сумм информационных 
и проверочных разрядов.  
序列综合征 S 是一组信息和校验码的校验和。（按XOR异或逻辑运算）
![](/Informatics/pics/lec2p3.png)
![](/Informatics/pics/lec2p4.png)
![](/Informatics/pics/lec2p5.png)  

### Классический код Хэмминга 经典的汉明码
Определение минимального числа контрольных 
разрядов: 2r ≥ r + i + 1.  
确定最小控制位数：2r ≥ r + i + 1。

Классические коды Хэмминга с маркировкой (n; i):
(7,4); (15,11); (31,26)…  
标有 (n; i) 的经典汉明码：(7,4); (15,11); (31,26) ....


|信息位数范围，i|最小控制位数 r|
|:----:|:----:|
|1|2|
|2-4|3|
|5-11|4|
|12-26|5|
|27-57|6|

Коэффициент избыточности — отношение числа проверочных разрядов (r) к общему 
числу разрядов (n = i + r).  
冗余系数是校验位数（r）与总位数（n = i + r）之比。

### Расстояние Хэмминга 汉明距离
Расстояние Хэмминга (РХ) — число символов, которое надо изменить в одном слове (разрешённой комбинации), чтобы получить другое (тоже разрешённую ситуацию).  
汉明距离（Hamming distance，HD）是指改变一个单词（允许的组合）中的字符数，以得到另一个单词（也是允许的情况）。  
Кодовое расстояние (d) — минимальное РХ среди всех слов алфавита в коде постоянной 
длины, т.е. минимальное число искажённых символов для перехода.  
码距（d）是恒定长度编码中字母表所有字之间的最小 RH 值，即转换时扭曲符号的最小数量。  
Число обнаруживаемых ошибок = d-1  
可检视错误数 = d-1  
Число минимально обнаруживаемых и исправляемых ошибок (g):d⩾2 g+1  
可检测和纠正的最小误差数量 (g)：d⩾2 g+1

### Представление целых чисел в ограниченной двоичной разрядной сетке (РС) компьютера 计算机有界二进制数位网格 (RS) 中整数的表示方法
Для хранения целой переменной в памяти компьютера используется фиксированное заранее известное число бит. Например, для хранения a=2 в компьютерную память будет записано следующее двоичное число, если используется 32-разрядный компьютер:  
要在计算机内存中存储一个整数变量，需要使用事先已知的固定位数。 例如，要存储 a=2，如果使用的是 32 位计算机，则会将以下二进制数写入计算机内存：

Пусть для хранения целого неотрицательного числа в переменной a используется k бит.  
让 k 位用于在变量 a 中存储一个非负整数。
  $MIN(a) = 000\dots 000_{(2)} = 0$  
  $MAX(a) = 111\dots 111_{(2)} = 2^{k}-1$  
  $\Rightarrow 999 = 1000 - 1 = 10^3 - 1$  
  $111_{(2)} = 1000_{(2)} - 1 = 2^3 - 1$

### Представление целых чисел со знаком в компьютере 带符号整数在计算机中的表示方法
В ЭВМ нет способа обозначить в двоичной СС знак «МИНУС» перед числом. Способы решения этой проблемы с примерами для 4-разрядного компьютера:  
在计算机中，无法在二进制 SS 中的数字前面指定 MINUS 符号。 请以 4 位计算机为例，说明解决这一问题的方法：  
   - Специальный знаковый бит (СЗБ)
   - 特殊符号位 (SSB)
      $+5 = 0101_{(2)}$  ,  $-5 = 1101_{(2)}$  (первый бит означает знак числа)（第一位代表数字的符号）
   - Фиксированное смещение влево (ФСВ)
   - 固定左偏移 (FLE)
      $-5 = 0000_{2}, -4 = 0001_{2},\dots , +10 = 1111_{2}$  (все числа уменьшены на 5)（所有数字减少 5）
   - Нега-двоичная система счисления (НДСС)
   - 非加二进制数系统（NGNS）
      $-5 = 0000_{2}, +5 = 0101_{-2}$  (основание СС равно «-2»)（CC 的基数是"-2"）。
   - Обратный/инверсный код (ОК)
   - 反向/逆向代码 (OK)
      $+5 = 0101_{2}, -5 = 1010_{2}$   (инвертируются все биты)（所有位均反相）
   - Дополнительный код (ДК)
   - 补充代码 (SC)
      $+5 = 0101_{2}, -5 = 1011_{2}$  (инвертировать все биты и прибавить 1)（反转所有位并加 1）

### Целые числа со знаком в n-разрядном компьютере n 位计算机中带符号的整数
Имея n-разрядный двоичный регистр, можно закодировать  $2^n$  разных 
символов. Для кодирования целых чисел без знака используется диапазон  $0\rightarrow 2^n – 1$  
使用 n 位二进制寄存器，可以编码  $2^n$  种不同的字符。 $0\rightarrow 2^n - 1$  的范围用于编码无符号整数  
Каков диапазон хранимых чисел со знаком в n-разрядном регистре?  
n 位寄存器中存储的带符号数字的范围是多少？  
1. Специальный знаковый бит (СЗБ):
   $от –(2^{n–1} – 1) до +(2^{n–1} – 1).$    
2. Фиксированное смещение влево (ФСВ):
   $от (–S) до (2^n – 1 – S), где S – смещение.$   
3. Нега-двоичная система счисления (НДСС):
   $чётное n: от –(2^n – 1)*2/3 до (2^n–1)/3,$  
   $нечётное n: от –(2^{n–1} – 1)*2/3 до (2^{n+1} – 1)/3,$  
   $любое n: от –(2^{n–(n mod 2)} – 1)*2/3 до (2^{n+(n mod 2)} – 1)/3.$  
4. Обратный/инверсный код (ОК):
   $от –(2^{n–1} – 1) до +(2^{n–1} – 1).$  
5. Дополнительный код (ДК):
   $от (–2^{n–1}) до (2^{n–1} – 1).$

![](/Informatics/pics/lec2p6.png)

### Арифметические операции в ограниченной разрядной сетке 有界数位网格中的算术运算
После любой арифметической операции процессор автоматически без явной команды от программиста устанавливает флаги, характеризующие состояние 
процессора.  
在进行任何运算操作后，处理器都会自动设置标记处理器状态的标志，而无需程序员下达任何明确的指令。  
Совокупность этих флагов называется регистром состояния.  
这些标志的集合称为状态寄存器。  
Программист может анализировать содержимое регистра состояния процессора для принятия решений в 
программе.  
程序员可以分析处理器状态寄存器的内容，从而在程序中做出决定。

### Флаги состояния процессора 处理器状态标志
- SF – Sign Flag.标志旗。 Равен 1, если результат операции отрицателен, иначе – 0. 如果操作结果为负值，则等于 1，否则等于 0。
- ZF – Zero Flag.零旗。 Равен 1, если результат операции равен нулю. 如果操作结果为零，则等于 1。
- PF – Parity Flag.奇偶校验标志。 Равен 1, если младший байт результата выполнения операции содержит чётное число единиц. 如果操作结果的最小有效字节包含偶数个“1”，则等于 1。
- AF – Adjust Flag.调整旗帜。 Равен 1, если произошёл заём или перенос между первым и вторым полубайтом (нибблом). 如果在第一个半字节和第二个半字节之间发生了借用或转移，则等于 1。
- CF – Carry Flag.携带标志。 Равен 1, если происходит перенос за пределы разрядной сетки или заём извне. 如果在数位网格外有转移或从外部借入，则等于 1。
- OF – Overflow Flag.溢出标志。 Равен 1, если результат операции не помещается разрядную сетку (при использовании дополнительного кода). 如果操作结果不适合数字网格（使用附加代码时），则等于 1。


### 问题 Альтернативы коду Хемминга 汉明码的替代方案
- Коды Рида-Соломона 励-所罗门码
    Эти коды используются для коррекции ошибок в длинных блоках данных, особенно в системах хранения и передачи, таких как CD, DVD и QR-коды.Они могут исправлять множество ошибок и применяются в широком спектре приложений.  
    这些代码用于纠正长数据块中的错误，尤其是在 CD、DVD 和 QR 码等存储和传输系统中。
- Коды Беркли 伯克利代码(不存在)
    Эти коды представляют собой группу, которая включает в себя как коды Хэмминга, так и другие методы.
Они могут использоваться для обнаружения и исправления ошибок в данных.  
    这些编码包括汉明码和其他方法。 它们可用于检测和纠正数据中的错误。  
- Коды Biff (фильтр Блума)(Biff (Bloom Filter) Codes) 绽放代码
    Эти коды эффективны для исправления ошибок в двоичных данных.Они используют комбинацию детекторов ошибок и методов исправления ошибок.
    这些编码能有效纠正二进制数据中的错误，它们结合使用了错误检测器和纠错技术。   https://cseweb.ucsd.edu/~varghese/PAPERS/biffcodes.pdf
- LDPC-code LDPC码
    Код с малой плотностью проверок на чётность (LDPC-код от англ. Low-density parity-check code, LDPC-code, низкоплотностный код) — используемый в передаче информации код, частный случай блочного линейного кода с проверкой чётности.
    低密度奇偶校验码（LDPC-code，LDPC-code，low-density parity-check code）是一种用于信息传输的码，是带奇偶校验的块线性码的特例。

**UTF-8\UTF-16 vs ASCII?**
- ASCII（Американский стандартный код обмена информацией）：представляет собой 7-битный код без рекомендаций относительно контроля чётности, содержащий $2^7$ = 128 кодовых позиций[3], в которых размещены следующие символы:десятичные цифры латинские буквы итк. 
- UTF-8（8-битная форма представления Unicode）：Стандарт кодирования Unicode, поддерживающий все языковые символы, переменная длина (1-4 байта), совместим с ASCII.
- UTF-16（16-битная форма представления Unicode）：Еще один стандарт кодирования Unicode, использующий в основном 2 или 4 байта, подходит для многоязычных и высокоэффективных приложений.

**Little-endian vs Big-endian?**
- Little-endian: младший значащий байт хранится по низкому адресу, в основном используется в системах x86.最低有效字节在低地址，主要用于 x86 系统。
- Big-endian: старший значащий байт хранится по низкому адресу, в основном используется в сетевой связи и некоторых системах RISC.最高有效字节在低地址，主要用于网络通信和部分 RISC 系统。
- Совместимость и преобразование: в сценариях сетевой связи необходимо преобразовывать порядок байтов для обеспечения согласованности.兼容性和转换：在网络通信等场景中需要转换字节序来确保一致性。






