## [网编主页](../readme.md)/讲座ppt内容

### 1. 引言
![](../pic/1.png)  
- 互联网应用，及客户端与服务端之间的内部联系
  - 客户端内核为浏览器，通过发送请求至服务端
  - 服务端内通过httpd（是一个以守护进程模式运行HTTP协议的服务器软件）来实行HTML对于网页的形成
  - 客户端与服务端之间通过HTTP协议进行通信，实现数据的交换
  
#### Стандарты и протоколы сети Интернет 互联网的标准和协议
- Hypertext Transfer Protocol (HTTP) — предназначен для передачи гипертекста между клиентом и сервером.
- 超文本传输协议（HTTP）——用于在客户端和服务器之间传输超文本。
- Hypertext Markup Language (HTML) — язык разметки гипертекста
- 超文本标记语言 (HTML) - 超文本标记语言是用于创建网页的标记语言。

### 2. Протокол HTTP HTTP协议
- Протокол HTTP HTTP协议
  - Протокол прикладного уровня 
  - 应用层协议
  - Основа — технология «клиент-сервер»
  - 基础是客户端-服务端技术
  - Может быть использован в качестве «транспорта» для других протоколов прикладного уровня
  - 可用作其他应用层协议的“传输”
  - Основной объект манипуляции — ресурс, на который указывает URI
  - 主要对象是URI指向的资源
  - Обмен сообщениями идёт по схеме «запрос-ответ»
  - 消息传递是一种请求-响应模式
  - Stateless-протокол (один запрос — одно соединение). Для реализации сессий используются cookies.
  - 无状态协议（一个请求 - 一个连接）。Cookie 用于实现会话。

- URI, URL и URN
  - URI (Uniform Resource Identifer) — уникальный идентификатор ресурса — символьная строка, позволяющая идентифицировать ресурс. 
  - URI（统一资源标识符）是资源的唯一标识符，是允许您标识资源的字符串。
  - URL (Uniform Resource Locator) — URI, позволяющий определить местонахождение ресурса.
  - URL（统一资源定位器）是一个 URI，可用于确定资源的位置。
  - URN (Uniform Resource Name) — URI, содержащий единообразное имя ресурса (не указывает на его местонахождение).
  - URN（统一资源名称）：包含资源统一名称的 URI（不指示其位置）。

- 示例：
```
URI:  
<схема>:<идентификатор-в-зависимости-от-схемы>  

URL:
 http://cs.ifmo.ru/spip.html  
 ../task.shtml  
 mailto:Joe.Bloggs@somedomain.com  

URN:
urn:isbn:5170224575
urn:sha1:YNCKHTQCWBTRNJIV4WNAE52SJUQCZO5C
```

- REST 
  - Representational State Transfer (передача состояния представления) - подход к архитектуре сетевых протоколов, обеспечивающих доступ к информационным ресурсам
  - 表述状态传输是一种网络协议架构方法，提供对信息资源的访问
  - Основные концепции:
  - 关键概念：
    - Данные должны передаваться в виде небольшого числа  стандартных форматов (HTML, XML, JSON).
    - 数据应以少量标准格式（HTML、XML、JSON）传输。
    - Сетевой протокол должен поддерживать кэширование, не должен зависеть от сетевого слоя, не должен сохранять информацию о состоянии между парами «запрос-ответ».
    - 网络协议必须支持缓存，不得依赖于网络层，并且不得在请求-响应对之间存储状态信息。
  - Антипод REST — подход, основанный на вызове удаленных процедур (Remote Procedure Call — RPC).
  - REST 的对立面是一种基于远程过程调用 （RPC） 的方法。

- Структура запроса HTTP HTTP 请求结构
  - Стартовая строка: 起跑线
    - 
    ```
    Метод URI HTTP/Версия
    GET /spip.html HTTP/1.1
    ``` 
  - Заголовки 标题:
    -      
    ```
    Host: cs.ifmo.ru
    User-Agent: Mozilla/5.0 (X11; U; Linux i686; ru; rv:1.9b5) Gecko/2008050509 Firefox/3.6
    Accept: text/html
    Connection: close
    ```
  - Тело сообщения
  

- Структура ответа HTTP HTTP 响应结构
  - Стартовая строка: 起始线
    - 
    ```
    HTTP/Версия Код Состояния Пояснение
    HTTP/1.1 200 Ok
    ``` 
  - Заголовки 标题:
    - 
    ```
    Server: Apache/2.2.11 (Win32) PHP/5.3.0
    Last-Modified: Sat, 16 Jan 2010 21:16:42 GMT
    Content-Type: text/plain; charset=windows-1251
    Content-Language: ru
    ```
  - Тело сообщения

- Методы HTTP HTTP的方法
  - `OPTIONS` — определение возможностей сервера.
  - `OPTIONS` - 定义服务器的功能。
  - `GET` — запрос содержимого ресурса.
  - `GET` - 请求资源的内容。
  - `HEAD` — аналог GET, но в ответе отсутствует тело.
  - `HEAD` 与 `GET` 类似，但响应中没有正文。
  - `POST` — передача данных ресурсу.
  - `POST` — 将数据传输到资源。
  - `PUT` — загрузка содержимого запроса на указанный URI.
  - `PUT` - 将请求的内容下载到指定的 URI。

- Коды состояния 状态代码
  - Состоят из 3-х цифр.
  - 它们由 3 位数字组成。
  - Первая цифра — класс состояния:
  - 第一个数字是状态类：
    - «1» — Informational — информационный;
    - “1” — 信息 — 参考;
    - «2» — Success — успешно;
    - “2” — 成功;
    - «3» — Redirection — перенаправление; 
    - “3” — 重定向;
    - «4» — Client error — ошибка клиента;
    - “4” — 客户端错误;
    - «5» — Server error — ошибка сервера.
    - “5” – 服务器错误。

### 3. Основы HTML HTML基础
HTML是什么：  
- Стандартный язык разметки документов в Интернете.
- Интерпретируется браузером и отображается в виде документа.
- Разработан в 1989-91 годах Тимом Бернерсом-Ли.
- Является частным случаем SGML (стандартного обобщённого языка разметки).
- Существует нотация XHTML, являющаяся частным случаем языка XML
- 互联网文档的标准标记语言。
- 由浏览器解释并显示为文档。
- 由 Tim Berners-Lee 于 1989-91 年开发。
- 它是 SGML（标准通用标记语言）的一个特例。
- 有一种称为 XHTML 的符号，它是 XML 的一个特例。

`Браузер` — программа, отображающая HTML документ в его отформатированном виде.  
浏览器是一种以格式化形式显示 HTML 文档的程序。  

#### Объектная модель документа (DOM) 文件对象模型
- DOM — это платформо-независимый интерфейс, позволяющий программам и скриптам получить доступ к содержимому HTML-документов.
- Стандартизирована W3C.
- Документ в DOM представляет собой дерево 
узлов.
- Узлы связаны между собой отношением 
«родитель-потомок».
- Используется для динамического изменения страниц HTML.
- DOM 是一个独立于平台的接口，允许程序和脚本访问 HTML 文档的内容。
- 由 W3C 标准化。
- DOM 文档是一个由
节点组成的树。
- 节点之间通过父子关系相互关联。
- 用于动态修改HTML页面。

#### ES6 / ES2015+
- ES6 — новая версия языка ECMAScript, выпущенная в 2015 г.
- Добавляет в синтаксис языка множество новых возможностей.
- Поддерживается практически всеми современными браузерами (хотя с этим всё ещё могут быть нюансы).
- Для работы в старых браузерах может потребоваться специальная программа — транспилер (transpiler).
- ES6 是 ECMAScript 语言的新版本，于 2015 年发布。
- 它为该语言的语法添加了许多新功能。
- 几乎所有现代浏览器都支持它（尽管可能仍存在一些细微差别）。
- 可能需要使用一个名为“转译器”的特殊程序才能与旧版浏览器兼容。

#### Block Scope Variables 块作用域变量
- Два новых ключевых слова — let и const.
- 两个新的关键字 let 和 const。
- ES5:
```js
var x = 'outer'; // 只是个简单的变量
function test(inner) {
  if (inner) {
    var x = 'inner'; // 范围整个函数
    return x;
  }
  return x; // 在第 4 行重新定义
}
test(false); // undefined
test(true); // inner
```

##### Ключевое слово let 关键字let
Позволяет объявить переменную, областью видимости которой является блок.  
允许您声明一个范围为块的变量。  
```js
let x = 'outer'; // 范围为块的变量
function test(inner) {
  if (inner) {
    let x = 'inner'; // 范围整个函数
    return x;
  }
  return x; // 在第 4 行重新定义
}
test(false); // undefined
test(true); // inner
```

##### Ключевое слово const 关键字const
允许这样声明常量：
```js
const x = 5; // const 声明的常量不能被修改，且声明的常量必须初始化。

const x = 10; // 错误，常量不能被修改。
let x = 10; // 错误 （let声明的常量可以被修改且可以不用初始化）
var x = 10; // 错误

console.log('我最喜欢的数字是：'+ x) // 输出7
```

#### IIFE (Immediately Invoked Function Expression) IIFE（立即调用函数表达式）
![](../pic/2.png)

#### Template Literals 模板文字
ES5:
```js
var firstname = 'John';
var lastname = 'Wick';
console.log('His name is ' + firstname + ' ' + lastname);
```

ES6:
```js
const firstname = 'John';
const lastname = 'Wick';
console.log(`His name is ${firstname} ${lastname}`);
```

不同点在于,新版本ES6允许在字符串中*嵌入变量*,而不需要使用加号或字符串连接符。  

#### Деструктуризация 解构
*Деструктуризация* (destructuring assignment) – особый синтаксис присваивания, при котором можно присвоить массив или объект сразу нескольким переменным, разбив его на части.  
*解构赋值*是一种特殊的赋值语法，它允许您一次将数组或对象分配给多个变量，将其分解成多个部分。  
例子：
ES5  
```js
var array = [1,2,3,4,5];
var first = array[0];
var last = array[4];

console.log(first, last); // 1 5
```

ES6:
```js
const array = [1,2,3,4,5];
const [first, last] = array;

console.log(first, last); // 1 5
```

### 4. Серверные сценарии на PHP 在PHP语言上的服务器脚本
Язык PHP  
- PHP (PHP: Hypertext Preprocessor) — скриптовый язык, часто используемый для написания вебприложений.
- PHP (PHP: 超文本预处理器)——一种脚本语言，用于编写网络应用程序。

### 5. Сервлеты Java Servlets 
#### Платформа Java EE Java EE 平台
- Набор стандартов и спецификаций для создания корпоративных приложений на Java.
-  Cпецификации Java EE реализуются серверами приложений: 
  -  Apache Tomcat 
  -  Sun / Oracle GlassFish 
  -  BEA / Oracle WebLogic 
  -  IBM WebSphere 
  -  RedHat JBoss
- 一套用于创建 Java 企业级应用程序的标准和规范。
- Java EE 规范由以下应用服务器实现：
  - Apache Tomcat
  - Sun / Oracle GlassFish
  - BEA / Oracle WebLogic
  - IBM WebSphere
  - RedHat JBoss

#### Java Servlets
- Java Servlets — это программные компоненты, которые обрабатывают и отвечают на запросы HTTP, которые поступают веб-сервером.
- Java Servlets 是处理 HTTP 请求的软件组件。
- Сервлеты — это серверные сценарии, написанные на Java. 
- Servlet 是用 Java 编写的服务器端脚本。
- Жизненным циклом сервлетов управляет вебконтейнер (он же контейнер сервлетов). 
- servlet的生命周期由Web容器（也称为Servlet容器）管理。
- В отличие от CGI, запросы обрабатываются в отдельных потоках (а не процессах) на вебконтейнере.
- 与 CGI 不同，请求是在 Web 容器上的单独线程（而不是进程）中处理的。

#### Обработка HTTP-запросов сервлетом 处理 HTTP 请求的 Servlet
![](../pic/3.png)  
![](../pic/4.png)  

#### Преимущества и недостатки сервлетов Servlet 的优点和缺点
- Преимущества сервлетов: 
  - Выполняются быстрее, чем CGI-сценарии. 
  - Хорошая масштабируемость. Надёжность и безопасность (реализованы на Java). 
  - Платформенно-независимы. 
  - Множество инструментов мониторинга и отладки. 
- Недостатки сервлетов:
  - Слабое разделение уровня представления и бизнес-логики. 
  - Возможны конфликты при параллельной обработке запросов.
- Servlet 的优点：
  - 执行速度比 CGI 脚本更快。
  - 良好的可扩展性。可靠性和安全性（使用 Java 实现）。
  - 平台无关性。
  - 丰富的监控和调试工具。
- Servlet 的缺点：
  - 表示层和业务逻辑分离性差。
  - 并发处理请求时可能会发生冲突。

### 6. Разработка сервлетов Java Servlets 开发
#### Архитектура веб-контейнера Web容器架构
![](../pic/5.png)

#### Обработка HTTP-запроса 处理 HTTP 请求
1. Браузер формирует HTTP-запрос и отправляет его на сервер. 浏览器形成HTTP请求并将它发到服务器中。
![](../pic/6.png)  

2. Веб-контейнер создаёт объекты `HttpServletRequest` и `HttpServletResponse`. web容器创建`HttpServletRequest`和`HttpServletResponse`对象。
![](../pic/7.png)  

3. Веб-контейнер вызывает метод service сервлета. web容器调用servlet的`service`方法。
![](../pic/8.png)  

4. Сервлет формирует ответ и записывает его в поток вывода HttpServletResponse. servlet生成响应并将其写入`HttpServletResponse`输出流。
![](../pic/9.png)  

#### HttpServlet API 
![](../pic/10.png)  

### MVC(Model-View-Controller) 模型-视图-控制器
模型-视图-控制器 （MVC）是一种软件架构模式 ，通常用于开发用户界面 ，将相关程序逻辑划分为三个互连元素。这些元素是：
  - the model, the internal representations of information
  - 模型，信息的内部表示
  - the view, the interface that presents information to and accepts it from the user
  - 视图，向用户提供信息并接受用户信息的界面
  - the controller, the software linking the two.
  - 控制器，连接两者的软件。

#### Компоненты MVC 模型-视图-控制器的组件
##### Model型
- **图案的核心组成部分**。它是应用程序的动态数据结构 ，**独立于用户界面**。它直接管理应用程序的数据、逻辑和规则。在 Smalltalk-80 中，模型类型的设计完全留给程序员。对于 WebObjects、Rails 和 Django，模型类型通常表示**应用程序数据库中的一个表**。该模型对于保持数据的组织性和一致性至关重要。它确保应用程序的数据按照定义的规则和逻辑运行。

##### View 视图  
任何信息表示形式，例如图表、图形、表格。  

##### Controller 控制器  
接受输入并将其转换为模型或视图的命令。  

##### Interactions 交互
- MVC 设计模式还定义了这三个组件之间的交互：  
  - 该模型负责管理应用程序的数据。它接收来自控制器的用户输入。
  - 视图以特定格式呈现模型的表示。
  - 控制器响应用户输入并对数据模型对象执行交互。控制器接收输入，可选择验证它，然后将输入传递给模型。