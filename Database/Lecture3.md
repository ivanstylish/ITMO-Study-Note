## [主页](../README.md)/Lecture3/[目录](./readme.md)
## Lecture 3: нормализация
## 讲座3：规范化

### 1. Реляционное представление 关系表示

Э. Кодд: любое представление данных можно свести к совокупности отношений.  
Э. Codd：任何数据表示都可以简化为一组关系。
- Отношение (relation) - двумерные таблицы особого вида.
- 关系 - 一种特殊的二维表格。
- У отношения есть атрибуты (столбцы) и кортежи (строки).
- 关系有属性（列）和元组（行）。
- У каждого атрибута есть имя
- 每个属性都有一个名称

#### Домены 领域
-  Каждый атрибут определяется некоторым допустимым набором значений
-  每个属性都由一组有效值定义
-  **Домен** — множество значений, допустимых в определенном контексте.
- **域**是在特定上下文中允许使用的一组值。
- **Смысл домена**: если значения берутся из одного и того же домена, то они относятся к одному типу — эти значения можно сопоставить (сравнить)
- **领域感**：如果值来自同一领域，则它们属于同一类型--这些值可以匹配（比较）

#### Основные правила (1) 基本规则 (1)
- Заголовок отношения — состоит из фиксированного множества атрибутов.
- 关系标头 - 由一组固定的属性组成。
- Тело отношения — состоит из меняющегося во времени множества кортежей.
- 关系体 - 由一组随时间变化的元组组成。

#### Основные правила (2) 基本规则 (2)
- Каждый кортеж состоит из множества пар атрибут значение, по одной паре для каждого атрибута из заголовка.
- 每个元组由多个属性-值对组成，标题中的每个属性都有一对。
- Для любой заданной пары атрибут(A)-значение(v), v является значением из единственного домена D, который связан с атрибутом A. 
- 对于任何给定的属性（A）-值（v）对，v 是唯一与属性 A 相关联的域 D 中的一个值。

#### Базовые понятия 基本概念
- Степень отношения — это число его атрибутов (отношение степени один - унарное, степени два — бинарное, степени n — n-арное).
- 关系的阶数是其属性的个数（阶数为 1 的关系是单元关系，阶数为 2 的关系是二元关系，阶数为 n 的关系是 n 元关系）。
- Кардинальное число (мощность отношения) — это число его кортежей.
- 基数（关系的幂次）是其图元的个数。

#### Терминология
![](./pics/lec3.1.png)
 
#### Операции реляц. алгебры 关系代数操作
**Реляционная алгебра** — язык для определения новых отношений на основе существующих.  
**关系代数**是一种基于现有关系定义新关系的语言。  
В реляционной алгебре определен ряд **операций** над отношениями.  
在关系代数中，定义了一系列关系运算。  
**Результат** операции — **новое** отношение.  
运算结果 - 新的关系。  

В операциях будут использоваться обозначения:  
运算中将使用指定名称：  
- R, S — отношения (таблицы)  
- R, S - 关系（表格）
- φ — предикат (условие), φ1 Λ φ2 — составное условие  
- φ - 谓词（条件），φ1 Λ φ2 - 复合条件

#### Операция выборки 采样操作
- $σ_φ(R)$ — операция выборки — в результате операции формируется отношение на основе R, которое содержит только те строки (кортежи), которые удовлетворяют заданному предикату.
- $σ_φ(R)$--抽样运算--运算的结果是形成一个基于 R 的关系，其中只包含满足给定谓词的字符串（元组）。

```
SELECT * FROM STUDENTS WHERE 
    STUDENTS.GROUP = '3100' AND
    STUDENTS.ID >= 150000;
```

$σ_(STUDENTS.GROUP='3100')Λ(STUDENTS.ID>=150000)(STUDENTS)$

#### Проекция 投影
- $π_attr(R)$ — проекция — в результате операции формируется новое отношение, содержащее только те атрибуты из R, которые были указаны в проекции:
- $π_attr(R)$ - 投影--操作的结果是形成一个新的关系，其中只包含在投影中指定的 R 的属性：

![](./pics/lec3.2.png)
  
  $R ⋈_θ S$   — соединение (тета-соединение)  
  $R ⋈_θ S$ - 连接（θ 连接）
        $R ⋈_θ S$ =  $σ_θ$  (R X S)

![](./pics/lec3.3.png)

![](./pics/lec3.4.png)

#### Сокращенная запись 缩写条目
![](./pics/lec3.5.png)

### 2. Нормализация 规范化

#### Как проверить полученные отношения? 如何检验由此产生的关系？
Вопросы к полученной модели:  
对由此产生的模型提出问题：
- корректны ли полученные отношения?
- 获得的关系是否正确？
- правильно ли выявлено распределение атрибутов по отношениям?
- 属性在关系中的分布是否正确？

**Нормализация** - формальный метод для проверки/доработки модели на основе ключей и функциональных зависимостей в отношениях.  
**规范化**是一种正式的方法，根据关系中的键和功能依赖关系来验证/完善模型。










